
<h1 class="sectionedit1" id="batch_transcode_videos_with_ffmpeg">Batch transcode videos with ffmpeg</h1>
<div class="level1">

<p>
for now there is just one, but hopefully i will add more
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Batch transcode videos with ffmpeg&quot;,&quot;hid&quot;:&quot;batch_transcode_videos_with_ffmpeg&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-108&quot;} -->
<h2 class="sectionedit2" id="cpu_encoding_script_to_convert_all_file_in_the_same_level_directory_to_h264">CPU_ENCODING Script to convert ALL file in the same level directory to H.264.</h2>
<div class="level2">

<p>
This script is tested and it works, <strong>however it requires all file to transcode in the same directory AND a directory “newfiles”</strong>.
The preset can be modified in order to speed up the encoding or slow it down to obtain better quality footage
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;CPU_ENCODING Script to convert ALL file in the same level directory to H.264.&quot;,&quot;hid&quot;:&quot;cpu_encoding_script_to_convert_all_file_in_the_same_level_directory_to_h264&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;109-442&quot;} -->
<h3 class="sectionedit3" id="the_tested_script_not-oneline">The TESTED script (not-oneline):</h3>
<div class="level3">
<pre class="code">mkdir newfiles
for i in *.mp4; do ffmpeg -i &quot;$i&quot; -c:v libx264 -preset ultrafast -crf 20 -c:a aac -b:a 128k &quot;newfiles/${i%.*}.mp4&quot;; done</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The TESTED script (not-oneline):&quot;,&quot;hid&quot;:&quot;the_tested_script_not-oneline&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;443-626&quot;} -->
<h3 class="sectionedit4" id="the_untested_script_oneline">The UNTESTED script (oneline):</h3>
<div class="level3">

<p>
this should remove the need to create a directory “newfiles”
</p>
<pre class="code">mkdir newfiles; for i in *.mp4; do ffmpeg -i &quot;$i&quot; -c:v libx264 -preset ultrafast -crf 20 -c:a aac -b:a 128k &quot;newfiles/${i%.*}.mp4&quot;; done</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The UNTESTED script (oneline):&quot;,&quot;hid&quot;:&quot;the_untested_script_oneline&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;627-871&quot;} -->
<h2 class="sectionedit5" id="igpu_encoding_script_to_convert_all_file_in_the_same_level_directory_to_h264">iGPU_ENCODING Script to convert ALL file in the same level directory to H.264.</h2>
<div class="level2">

<p>
This script is tested and it works, <strong>however it requires all file to transcode in the same directory AND a directory “newfiles”</strong>.
The preset can be modified in order to speed up the encoding or slow it down to obtain better quality footage.
</p>

<p>
-qp: quality of encoding lower is better and more slow<br/>

-bf: default is 2 
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;iGPU_ENCODING Script to convert ALL file in the same level directory to H.264.&quot;,&quot;hid&quot;:&quot;igpu_encoding_script_to_convert_all_file_in_the_same_level_directory_to_h264&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;872-1284&quot;} -->
<h3 class="sectionedit6" id="the_tested_script_not-oneline1">The TESTED script (not-oneline):</h3>
<div class="level3">
<pre class="code">mkdir newfiles
for i in *.mp4; do ffmpeg -hwaccel vaapi -hwaccel_output_format vaapi -i &quot;$i&quot; -c:v h264_vaapi -qp 21 -bf 2  &quot;newfiles/${i%.*}.mp4&quot;; done</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The TESTED script (not-oneline):&quot;,&quot;hid&quot;:&quot;the_tested_script_not-oneline1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;1285-&quot;} -->